<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Yearly Planner</title>
<style>
    body {
        font-family: sans-serif;
        background: #f1f8e9; /* Light greenish */
        margin: 0;
        padding: 20px;
        color: #333;
    }
    header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }
    .btn-back {
        background: #689f38;
        color: white;
        padding: 8px 15px;
        border: none;
        border-radius: 6px;
        text-decoration: none;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        transition: background 0.3s;
    }
    .btn-back:hover { background: #558b2f; }
    .grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 20px;
    }
    .month-box {
        background: white;
        border-radius: 10px;
        padding: 15px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h3 {
        margin-top: 0;
        text-align: center;
        color: #558b2f;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        font-size: 13px;
    }
    th, td {
        border: 1px solid #ddd;
        padding: 4px;
        text-align: center;
    }
    th {
        background: #8bc34a;
        color: white;
    }
    td[contenteditable]:hover {
        background: #f1f8e9;
    }
</style>
</head>
<body>
    <header>
        <a href="index.html" class="btn-back">â¬… Back</a>
        <div>Year: <input type="number" value="2025" style="padding:5px; width:80px;"></div>
    </header>

    <div class="grid" id="months-container">
        <!-- Months will be generated by JS -->
    </div>

    <script>
        const monthNames = [
            "January", "February", "March", "April", "May", "June",
            "July", "August", "September", "October", "November", "December"
        ];

        function generateMonths() {
            const container = document.getElementById("months-container");
            const year = document.querySelector('input[type="number"]').value;
            container.innerHTML = "";

            monthNames.forEach((name, idx) => {
                let daysInMonth = new Date(year, idx + 1, 0).getDate();
                let tableRows = "";
                for (let d = 1; d <= daysInMonth; d++) {
                    tableRows += `<tr>
                        <td>${d}</td>
                        <td contenteditable="true"></td>
                    </tr>`;
                }
                container.innerHTML += `
                    <div class="month-box">
                        <h3>${name}</h3>
                        <table>
                            <thead><tr><th>Day</th><th>Tasks</th></tr></thead>
                            <tbody>${tableRows}</tbody>
                        </table>
                    </div>
                `;
            });
            loadData();
        }

        function saveData() {
            const inputs = document.querySelectorAll('[contenteditable]');
            let data = {};
            inputs.forEach((el, i) => data[i] = el.innerHTML);
            localStorage.setItem("yearlyData", JSON.stringify(data));
        }

        function loadData() {
            const stored = localStorage.getItem("yearlyData");
            if (stored) {
                const inputs = document.querySelectorAll('[contenteditable]');
                const data = JSON.parse(stored);
                inputs.forEach((el, i) => {
                    el.innerHTML = data[i] || "";
                });
            }
        }

        document.addEventListener("input", saveData);
        document.querySelector('input[type="number"]').addEventListener("change", generateMonths);

        generateMonths();
    </script>
</body>
</html>
